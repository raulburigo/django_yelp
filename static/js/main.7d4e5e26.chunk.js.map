{"version":3,"sources":["apis/RestaurantFinder.js","context/RestaurantContext.js","components/AddRestaurant.jsx","components/Header.jsx","components/StarRating.jsx","components/RestaurantList.jsx","pages/Home.jsx","components/AddReview.jsx","components/Reviews.jsx","pages/RestaurantDetail.jsx","components/UpdateForm.jsx","pages/RestaurantUpdate.jsx","App.jsx","index.js"],"names":["axios","create","baseURL","RestaurantContext","createContext","RestaurantContextProvider","props","useState","restaurants","setRestaurants","newReviews","setNewReviews","isUpdated","setIsUpdated","useEffect","a","RestaurantFinder","get","response","data","fetchData","catch","err","console","log","Provider","value","addRestaurant","restaurant","addReview","review","children","AddRestaurant","useContext","name","setName","location","setLocation","priceRange","setPriceRange","handleSubmit","e","preventDefault","post","price_range","className","onSubmit","type","required","placeholder","onChange","target","disabled","Header","StarRating","rating","stars","starIcons","i","push","key","RestaurantList","history","useHistory","handleDelete","id","stopPropagation","delete","filter","scope","map","onClick","repeat","count","avg_rating","handleUpdate","Home","AddReview","setReview","setRating","restaurantId","useParams","emptyStar","fullStar","alert","user","result","htmlFor","Reviews","reviews","style","maxWidth","fontWeight","RestaurantDetail","setRestaurant","to","UpdateForm","put","UpdateRestaurant","App","exact","path","component","RestaurantUpdate","ReactDOM","render","document","getElementById"],"mappings":"8OAEeA,E,OAAAA,EAAMC,OAAO,CACxBC,QAAS,8CCAAC,EAAoBC,0BAEpBC,EAA4B,SAAAC,GAAU,IAAD,EACRC,mBAAS,IADD,mBACvCC,EADuC,KAC1BC,EAD0B,OAEVF,mBAAS,IAFC,mBAEvCG,EAFuC,KAE3BC,EAF2B,OAGZJ,oBAAS,GAHG,mBAGvCK,EAHuC,KAG5BC,EAH4B,KAK9CC,qBAAU,WAAM,4CACZ,4BAAAC,EAAA,sEAC2BC,EAAiBC,IAAI,IADhD,OACUC,EADV,OAEIT,EAAeS,EAASC,KAAKA,KAAKX,aAFtC,4CADY,uBAAC,WAAD,gCAKZY,GAAYC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MACrCT,GAAa,KACd,CAACJ,EAAgBG,IAUpB,OACI,kBAACT,EAAkBsB,SAAnB,CAA4BC,MAAO,CAC/BlB,cACAC,iBACAkB,cAZc,SAAAC,GAClBnB,EAAe,GAAD,mBAAKD,GAAL,CAAkBoB,MAY5BC,UATU,SAAAC,GACdnB,EAAc,GAAD,mBAAKD,GAAL,CAAiBoB,MAS1BpB,aACAG,iBAECP,EAAMyB,WCkCJC,MAlEf,WAA0B,IACdL,EAAkBM,qBAAW9B,GAA7BwB,cADa,EAEGpB,mBAAS,IAFZ,mBAEd2B,EAFc,KAERC,EAFQ,OAGW5B,mBAAS,IAHpB,mBAGd6B,EAHc,KAGJC,EAHI,OAIe9B,mBAAS,eAJxB,mBAId+B,EAJc,KAIFC,EAJE,KAOfC,EAAY,uCAAG,WAAMC,GAAN,eAAA1B,EAAA,6DACjB0B,EAAEC,iBADe,kBAGU1B,EAAiB2B,KAAK,GAAI,CAC7CT,OACAE,WACAQ,YAAaN,IANJ,OAGPpB,EAHO,OAQbK,QAAQC,IAAIN,GACZS,EAAcT,EAASC,KAAKA,KAAKS,YACjCO,EAAQ,IACRE,EAAY,IACZE,EAAc,eAZD,kDAcbhB,QAAQC,IAAR,MAda,0DAAH,sDAkBlB,OACI,yBAAKqB,UAAU,QACX,0BAAMC,SAAUN,GACZ,yBAAKK,UAAU,YACX,yBAAKA,UAAU,OACX,2BACIA,UAAU,eACVE,KAAK,OACLC,UAAQ,EACRC,YAAY,kBACZvB,MAAOQ,EACPgB,SAAU,SAAAT,GAAC,OAAIN,EAAQM,EAAEU,OAAOzB,WAGxC,yBAAKmB,UAAU,OACX,2BACIA,UAAU,eACVE,KAAK,OACLC,UAAQ,EACRC,YAAY,sBACZvB,MAAOU,EACPc,SAAU,SAAAT,GAAC,OAAIJ,EAAYI,EAAEU,OAAOzB,WAG5C,yBAAKmB,UAAU,OACX,4BAAQA,UAAU,gBAAgBnB,MAAOY,EAAYY,SAAU,SAAAT,GAAC,OAAIF,EAAcE,EAAEU,OAAOzB,SACvF,4BAAQ0B,UAAQ,GAAhB,eACA,4BAAQ1B,MAAM,KAAd,KACA,4BAAQA,MAAM,KAAd,MACA,4BAAQA,MAAM,KAAd,OACA,4BAAQA,MAAM,KAAd,QACA,4BAAQA,MAAM,KAAd,WAGR,4BAAQqB,KAAK,SAASF,UAAU,mBAAhC,WCrDLQ,MARf,WACI,OACI,6BACI,wBAAIR,UAAU,2CAAd,uBCqBGS,MAxBf,YASI,IAT6B,IAAXC,EAAU,EAAVA,OAEZC,EAAQ,GACRC,EACI,2BADJA,EAEI,oCAFJA,EAGK,2BAGFC,EAAI,EAAGA,GAAK,EAAGA,IAChBA,GAAKH,EACLC,EAAMG,KAAK,uBAAGC,IAAKF,EAAGb,UAAWY,KACzBC,EAAIH,GAAW,GACvBC,EAAMG,KAAK,uBAAGC,IAAKF,EAAGb,UAAWY,KAEjCD,EAAMG,KAAK,uBAAGC,IAAKF,EAAGb,UAAWY,KAIzC,OACI,kBAAC,WAAD,KAAYD,IC0CLK,MA1Df,WAA2B,IAAD,EAEgB5B,qBAAW9B,GAA1CK,EAFe,EAEfA,YAAaC,EAFE,EAEFA,eAEhBqD,EAAUC,cAERC,EAAY,uCAAG,WAAOvB,EAAGwB,GAAV,SAAAlD,EAAA,6DACjB0B,EAAEyB,kBADe,kBAGPlD,EAAiBmD,OAAjB,WAA4BF,IAHrB,OAIbxD,EAAeD,EAAY4D,QAAO,SAAAxC,GAAU,OAAIA,EAAWqC,KAAOA,MAJrD,gDAMb1C,QAAQC,IAAR,MANa,yDAAH,wDAmBlB,OACI,yBAAKqB,UAAU,cACX,2BAAOA,UAAU,gCACb,+BACI,wBAAIA,UAAU,0BACV,wBAAIwB,MAAM,OAAV,cACA,wBAAIA,MAAM,OAAV,YACA,wBAAIA,MAAM,OAAV,eACA,wBAAIA,MAAM,OAAV,WACA,wBAAIA,MAAM,OAAV,QACA,wBAAIA,MAAM,OAAV,YAGR,+BACK7D,GAAeA,EAAY8D,KAAI,SAAA1C,GAAU,OAC1C,wBAAIgC,IAAKhC,EAAWqC,GAAIM,QAAS,kBAnB5BN,EAmB+CrC,EAAWqC,QAlB3EH,EAAQH,KAAR,uBAA6BM,IADZ,IAAAA,IAoBD,4BAAKrC,EAAWM,MAChB,4BAAKN,EAAWQ,UAChB,4BAAK,IAAIoC,OAAO5C,EAAWgB,cAC1BhB,EAAW6C,MAAQ,EAAI,4BACpB,kBAAC,EAAD,CAAYlB,OAAQ3B,EAAW8C,aAC/B,0BAAM7B,UAAU,gBAAhB,IAAiCjB,EAAW6C,MAA5C,MACI,4BAAI,0BAAM5B,UAAU,gBAAhB,eACZ,4BAAI,4BAAQ0B,QAAS,SAAA9B,GAAC,OAhCrB,SAACA,EAAGwB,GACrBxB,EAAEyB,kBACFJ,EAAQH,KAAR,uBAA6BM,EAA7B,YA8B0CU,CAAalC,EAAGb,EAAWqC,KAAKpB,UAAU,mBAAhE,WACJ,4BAAI,4BAAQ0B,QAAS,SAAA9B,GAAC,OAAIuB,EAAavB,EAAGb,EAAWqC,KAAKpB,UAAU,kBAAhE,mBCxCb+B,MAVf,WACI,OACI,6BACI,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,QCyDGC,MA9Df,WAAsB,IAAD,EAEOtE,mBAAS,IAFhB,mBAEV2B,EAFU,KAEJC,EAFI,OAGW5B,mBAAS,IAHpB,mBAGVuB,EAHU,KAGFgD,EAHE,OAIWvE,mBAAS,GAJpB,mBAIVgD,EAJU,KAIFwB,EAJE,KAKXC,EAAeC,cAAYhB,GAEzBpC,EAAcI,qBAAW9B,GAAzB0B,UAEFqD,EAAY,uBAAGrC,UAAU,gBACzBsC,EAAW,uBAAGtC,UAAU,gBAExBL,EAAY,uCAAG,WAAMC,GAAN,eAAA1B,EAAA,yDACjB0B,EAAEC,iBACa,IAAXa,EAFa,gBAGb6B,MAAM,mCAHO,gDAMYpE,EAAiB2B,KAAjB,WACbqC,EADa,eAEjB,CAAEK,KAAM,EAAGvD,SAAQyB,WARd,OAMH+B,EANG,OAUTzD,EAAUyD,GAVD,kDAYT/D,QAAQC,IAAR,MAZS,QAcbW,EAAQ,IACR2C,EAAU,IACVC,EAAU,GAhBG,0DAAH,sDAoBlB,OACI,yBAAKlC,UAAU,QACX,0BAAMC,SAAUN,GACZ,yBAAKK,UAAU,YACX,yBAAKA,UAAU,oBACX,2BAAO0C,QAAQ,QAAf,QACA,2BAAOvC,UAAQ,EAACH,UAAU,eAAeI,YAAY,YAAYvB,MAAOQ,EAAMgB,SAAU,SAAAT,GAAC,OAAIN,EAAQM,EAAEU,OAAOzB,QAAQqB,KAAK,UAE/H,yBAAKF,UAAU,6BACX,2BAAO0C,QAAQ,UAAf,UACA,6BACI,0BAAMhB,QAAS,kBAAMQ,EAAU,IAAIrD,MAAO,GAAI6B,GAAU,EAAI2B,EAAYC,GACxE,0BAAMZ,QAAS,kBAAMQ,EAAU,IAAIrD,MAAO,GAAI6B,GAAU,EAAI2B,EAAYC,GACxE,0BAAMZ,QAAS,kBAAMQ,EAAU,IAAIrD,MAAO,GAAI6B,GAAU,EAAI2B,EAAYC,GACxE,0BAAMZ,QAAS,kBAAMQ,EAAU,IAAIrD,MAAO,GAAI6B,GAAU,EAAI2B,EAAYC,GACxE,0BAAMZ,QAAS,kBAAMQ,EAAU,IAAIrD,MAAO,GAAI6B,GAAU,EAAI2B,EAAYC,MAIpF,yBAAKtC,UAAU,cACX,2BAAO0C,QAAQ,UAAf,UACA,8BAAUvC,UAAQ,EAACiB,GAAG,SAASvC,MAAOI,EAAQoB,SAAU,SAAAT,GAAC,OAAIqC,EAAUrC,EAAEU,OAAOzB,QAAQmB,UAAU,kBAEtG,4BAAQE,KAAK,SAASF,UAAU,6BAAhC,iBCvCD2C,MAlBf,YAA+B,IAAZC,EAAW,EAAXA,QACf,OACI,yBAAK5C,UAAU,uBACV4C,GAAWA,EAAQnB,KAAI,SAAAxC,GAAM,OAC9B,yBAAK8B,IAAK9B,EAAOmC,GAAIpB,UAAU,uCAAuC6C,MAAO,CAACC,SAAU,QACpF,yBAAK9C,UAAU,8CACf,0BAAM6C,MAAO,CAACE,WAAY,QAAS9D,EAAOI,MACtC,8BAAM,kBAAC,EAAD,CAAYqB,OAAQzB,EAAOyB,WAErC,yBAAKV,UAAU,aACX,uBAAGA,UAAU,aAAaf,EAAOA,eC0BtC+D,MA/Bf,WAA6B,IACjB5B,EAAOgB,cAAPhB,GADgB,EAEY1D,mBAAS,IAFrB,mBAEjBqB,EAFiB,KAELkE,EAFK,KAGhBpF,EAAeuB,qBAAW9B,GAA1BO,WAUR,OARAI,qBAAU,WAAM,4CACZ,4BAAAC,EAAA,sEAC2BC,EAAiBC,IAAjB,UAAwBgD,IADnD,OACU/C,EADV,OAEI4E,EAAc5E,EAASC,KAAKA,KAAKS,YAFrC,4CADY,uBAAC,WAAD,gCAKZR,GAAYC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QACtC,CAAC2C,EAAIvD,IAGJ,kBAAC,WAAD,KACMkB,GACF,oCACA,yBAAKiB,UAAU,oBACX,wBAAIA,UAAU,+BAA+BjB,EAAWM,MACvDN,EAAW6C,MAAQ,EAAI,oCAAE,kBAAC,EAAD,CAAYlB,OAAQ3B,EAAW8C,aACzD,0CAAY9C,EAAW6C,MAAvB,UAAgD,mDAChD,kBAAC,IAAD,CAAMsB,GAAE,uBAAkBnE,EAAWqC,GAA7B,YAAR,sBAEJ,kBAAC,EAAD,CAASwB,QAAS7D,EAAW6D,UAC7B,kBAAC,EAAD,SCoDGO,MA/Ef,WAAuB,IACX/B,EAAOgB,cAAPhB,GADU,EAEM1D,mBAAS,IAFf,mBAEX2B,EAFW,KAELC,EAFK,OAGc5B,mBAAS,IAHvB,mBAGX6B,EAHW,KAGDC,EAHC,OAIkB9B,mBAAS,eAJ3B,mBAIX+B,EAJW,KAICC,EAJD,KAMduB,EAAUC,cAENlD,EAAiBoB,qBAAW9B,GAA5BU,aAERC,qBAAU,WAAM,4CACZ,4BAAAC,EAAA,sEAC2BC,EAAiBC,IAAjB,UAAwBgD,IADnD,OACU/C,EADV,OAEIiB,EAAQjB,EAASC,KAAKA,KAAKS,WAAWM,MACtCG,EAAYnB,EAASC,KAAKA,KAAKS,WAAWQ,UAC1CG,EAAcrB,EAASC,KAAKA,KAAKS,WAAWgB,aAJhD,4CADY,uBAAC,WAAD,gCAOZxB,GAAYC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QACtC,CAAC2C,IAIJ,IAAMzB,EAAY,uCAAG,WAAMC,GAAN,SAAA1B,EAAA,6DACjB0B,EAAEC,iBADe,kBAGP1B,EAAiBiF,IAAjB,UAAwBhC,EAAxB,KAA+B,CACjC/B,OACAE,WACAQ,YAAaN,IANJ,OAQbzB,GAAa,GACbiD,EAAQH,KAAK,KATA,gDAWbpC,QAAQC,IAAR,MAXa,yDAAH,sDAelB,OACI,6BACI,0BAAMsB,SAAUN,GACZ,yBAAKK,UAAU,cACX,2BAAO0C,QAAQ,QAAf,QACA,2BACI1C,UAAU,eACVE,KAAK,OACLC,UAAQ,EACRC,YAAY,kBACZvB,MAAOQ,EACPgB,SAAU,SAAAT,GAAC,OAAIN,EAAQM,EAAEU,OAAOzB,WAGxC,yBAAKmB,UAAU,cACX,2BAAO0C,QAAQ,YAAf,YACA,2BACI1C,UAAU,eACVE,KAAK,OACLC,UAAQ,EACRC,YAAY,sBACZvB,MAAOU,EACPc,SAAU,SAAAT,GAAC,OAAIJ,EAAYI,EAAEU,OAAOzB,WAG5C,yBAAKmB,UAAU,cACX,2BAAO0C,QAAQ,eAAf,eACA,4BAAQ1C,UAAU,gBAAgBnB,MAAOY,EAAYY,SAAU,SAAAT,GAAC,OAAIF,EAAcE,EAAEU,OAAOzB,SACvF,4BAAQ0B,UAAQ,GAAhB,eACA,4BAAQ1B,MAAM,KAAd,KACA,4BAAQA,MAAM,KAAd,MACA,4BAAQA,MAAM,KAAd,OACA,4BAAQA,MAAM,KAAd,QACA,4BAAQA,MAAM,KAAd,WAGR,4BAAQqB,KAAK,SAASF,UAAU,mBAAhC,aCjEDqD,MAVf,WAEI,OACI,6BACI,wBAAIrD,UAAU,eAAd,qBACA,kBAAC,EAAD,QCeGsD,EAhBH,WACV,OACE,kBAAC,EAAD,KACE,yBAAKtD,UAAU,aACb,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOuD,OAAK,EAACC,KAAK,IAAIC,UAAW1B,IACjC,kBAAC,IAAD,CAAOwB,OAAK,EAACC,KAAK,mBAAmBC,UAAWT,IAChD,kBAAC,IAAD,CAAOO,OAAK,EAACC,KAAK,0BAA0BC,UAAWC,SCXnEC,IAASC,OAAO,kBAAC,EAAD,MAAQC,SAASC,eAAe,W","file":"static/js/main.7d4e5e26.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport default axios.create({\n    baseURL: 'http://127.0.0.1:8000/api/v1/restaurants/'\n});","import React, { useState, createContext, useEffect } from 'react';\nimport RestaurantFinder from '../apis/RestaurantFinder';\n\nexport const RestaurantContext = createContext();\n\nexport const RestaurantContextProvider = props => {\n    const [restaurants, setRestaurants] = useState([])\n    const [newReviews, setNewReviews] = useState([])\n    const [isUpdated, setIsUpdated] = useState(true) \n\n    useEffect(() => {\n        async function fetchData() {\n            const response = await RestaurantFinder.get('')\n            setRestaurants(response.data.data.restaurants)\n        }\n        fetchData().catch(err => console.log(err));\n        setIsUpdated(true)\n    }, [setRestaurants, isUpdated])\n\n    const addRestaurant = restaurant => {\n        setRestaurants([...restaurants, restaurant])\n    }\n\n    const addReview = review => {\n        setNewReviews([...newReviews, review])\n    }\n\n    return (\n        <RestaurantContext.Provider value={{\n            restaurants,\n            setRestaurants,\n            addRestaurant,\n            addReview,\n            newReviews,\n            setIsUpdated,\n        }}>\n            {props.children}\n        </RestaurantContext.Provider>\n    )\n}\n","import React, { useContext, useState } from 'react'\nimport RestaurantFinder from '../apis/RestaurantFinder'\nimport { RestaurantContext } from '../context/RestaurantContext'\n\nfunction AddRestaurant() {\n    const { addRestaurant } = useContext(RestaurantContext)\n    const [name, setName] = useState('')\n    const [location, setLocation] = useState('')\n    const [priceRange, setPriceRange] = useState('Price Range')\n\n    // nao gosto disso pq ele tá permitindo submeter o form com price_range errado\n    const handleSubmit = async e => {\n        e.preventDefault()\n        try {\n            const response = await RestaurantFinder.post('', {\n                name,\n                location,\n                price_range: priceRange\n            })\n            console.log(response)\n            addRestaurant(response.data.data.restaurant)\n            setName('')\n            setLocation('')\n            setPriceRange('Price Range')\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    return (\n        <div className=\"mb-4\">\n            <form onSubmit={handleSubmit}>\n                <div className=\"form-row\">\n                    <div className=\"col\">\n                        <input\n                            className=\"form-control\"\n                            type=\"text\"\n                            required\n                            placeholder=\"restaurant name\"\n                            value={name}\n                            onChange={e => setName(e.target.value)}\n                        />\n                    </div>\n                    <div className=\"col\">\n                        <input\n                            className=\"form-control\"\n                            type=\"text\"\n                            required\n                            placeholder=\"restaurant location\"\n                            value={location}\n                            onChange={e => setLocation(e.target.value)}                            \n                        />\n                    </div>\n                    <div className=\"col\">\n                        <select className=\"custom-select\" value={priceRange} onChange={e => setPriceRange(e.target.value)}>\n                            <option disabled>Price Range</option>\n                            <option value=\"1\">$</option>\n                            <option value=\"2\">$$</option>\n                            <option value=\"3\">$$$</option>\n                            <option value=\"4\">$$$$</option>\n                            <option value=\"5\">$$$$$</option>\n                        </select>\n                    </div>\n                    <button type=\"submit\" className=\"btn btn-primary\">Add</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default AddRestaurant\n","import React from 'react'\n\nfunction Header() {\n    return (\n        <div>\n            <h1 className=\"font-weight-light display-1 text-center\">Restaurant Finder</h1>\n        </div>\n    )\n}\n\nexport default Header\n","import React, { Fragment } from 'react';\n\nfunction StarRating({ rating }) {\n    \n    const stars = []\n    const starIcons = {\n        full: \"fas fa-star text-warning\",\n        half: \"fas fa-star-half-alt text-warning\",\n        empty: \"far fa-star text-warning\"\n    }\n\n    for (let i = 1; i <= 5; i++) {\n        if (i <= rating) {\n            stars.push(<i key={i} className={starIcons.full}></i>);\n        } else if ((i - rating) <= 0.5 ) {\n            stars.push(<i key={i} className={starIcons.half}></i>);\n        } else {\n            stars.push(<i key={i} className={starIcons.empty}></i>);\n        }\n    }\n\n    return (\n        <Fragment>{ stars }</Fragment>\n    )\n}\n\nexport default StarRating;\n","import React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport RestaurantFinder from '../apis/RestaurantFinder';\nimport { RestaurantContext } from '../context/RestaurantContext';\nimport StarRating from './StarRating';\n\nfunction RestaurantList() {\n\n    const {restaurants, setRestaurants} = useContext(RestaurantContext);\n\n    let history = useHistory();\n\n    const handleDelete = async (e, id) => {\n        e.stopPropagation();\n        try {\n            await RestaurantFinder.delete(`/${id}`)\n            setRestaurants(restaurants.filter(restaurant => restaurant.id !== id))\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    const handleUpdate = (e, id) => {\n        e.stopPropagation()\n        history.push(`/restaurants/${id}/update`)\n    }\n\n    const handleDetail = id => {\n        history.push(`/restaurants/${id}`)\n    }\n\n    return (\n        <div className=\"list-group\">\n            <table className=\"table table-hover table-dark\">\n                <thead>\n                    <tr className=\"bg-primary text-center\">\n                        <th scope=\"col\">Restaurant</th>\n                        <th scope=\"col\">Location</th>\n                        <th scope=\"col\">Price Range</th>\n                        <th scope=\"col\">Ratings</th>\n                        <th scope=\"col\">Edit</th>\n                        <th scope=\"col\">Delete</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {restaurants && restaurants.map(restaurant => (\n                    <tr key={restaurant.id} onClick={() => handleDetail(restaurant.id)}>\n                        <td>{restaurant.name}</td>\n                        <td>{restaurant.location}</td>\n                        <td>{'$'.repeat(restaurant.price_range)}</td>\n                        {restaurant.count > 0 ? <td>\n                            <StarRating rating={restaurant.avg_rating}/>\n                            <span className=\"text-warning\">({restaurant.count})</span>\n                        </td> : <td><span className=\"text-warning\">no reviews</span></td>}\n                        <td><button onClick={e => handleUpdate(e, restaurant.id)} className=\"btn btn-warning\">Update</button></td>\n                        <td><button onClick={e => handleDelete(e, restaurant.id)} className=\"btn btn-danger\">Delete</button></td>\n                    </tr>\n                    ))}                              \n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default RestaurantList\n","import React from 'react'\nimport AddRestaurant from '../components/AddRestaurant'\nimport Header from '../components/Header'\nimport RestaurantList from '../components/RestaurantList'\n\nfunction Home() {\n    return (\n        <div>\n            <Header />\n            <AddRestaurant />\n            <RestaurantList />\n        </div>\n    )\n}\n\nexport default Home\n","import React, { useContext, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport RestaurantFinder from '../apis/RestaurantFinder';\nimport { RestaurantContext } from '../context/RestaurantContext';\n\nfunction AddReview() {\n    \n    const [name, setName] = useState('')\n    const [review, setReview] = useState('')\n    const [rating, setRating] = useState(0)\n    const restaurantId = useParams().id;\n    \n    const { addReview } = useContext(RestaurantContext)\n\n    const emptyStar = <i className=\"fas fa-star\"></i>\n    const fullStar = <i className=\"far fa-star\"></i>\n\n    const handleSubmit = async e => {\n        e.preventDefault()\n        if (rating === 0) {\n            alert('You must give at least one star')\n        } else {\n            try {\n                const result = await RestaurantFinder.post(\n                    `/${restaurantId}/addreview/`,\n                    { user: 2, review, rating}\n                )\n                addReview(result)\n            } catch (err) {\n                console.log(err)\n            }\n            setName('')\n            setReview('')\n            setRating(0)\n        }\n    }\n\n    return (\n        <div className=\"mb-2\">\n            <form onSubmit={handleSubmit}>\n                <div className=\"form-row\">\n                    <div className=\"form-group col-8\">\n                        <label htmlFor=\"name\">Name</label>\n                        <input required className=\"form-control\" placeholder=\"user name\" value={name} onChange={e => setName(e.target.value)} type=\"text\"/>\n                    </div>\n                    <div className=\"form-group col-3 offset-1\">\n                        <label htmlFor=\"rating\">Rating</label>\n                        <div>\n                            <span onClick={() => setRating(1)} value={1}>{rating >= 1 ? emptyStar : fullStar}</span>\n                            <span onClick={() => setRating(2)} value={2}>{rating >= 2 ? emptyStar : fullStar}</span>\n                            <span onClick={() => setRating(3)} value={3}>{rating >= 3 ? emptyStar : fullStar}</span>\n                            <span onClick={() => setRating(4)} value={4}>{rating >= 4 ? emptyStar : fullStar}</span>\n                            <span onClick={() => setRating(5)} value={5}>{rating >= 5 ? emptyStar : fullStar}</span>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"review\">Review</label>\n                    <textarea required id=\"review\" value={review} onChange={e => setReview(e.target.value)} className=\"form-control\"></textarea>\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary btn-small\">Add Review</button>\n            </form>\n        </div>\n    )\n}\n\n\nexport default AddReview\n","import React from 'react'\nimport StarRating from './StarRating'\n\nfunction Reviews({ reviews }) {\n    return (\n        <div className=\"row row-cols-3 mb-2\">\n            {reviews && reviews.map(review => (\n            <div key={review.id} className=\"card text-white bg-primary mb-3 mr-4\" style={{maxWidth: '30%'}}>\n                <div className=\"card-header d-flex justify-content-between\">\n                <span style={{fontWeight: '600'}}>{review.name}</span>\n                    <span><StarRating rating={review.rating}/></span>\n                </div>\n                <div className=\"card-body\">\n                    <p className=\"card-text\">{review.review}</p>    \n                </div>\n            </div>\n            ))}\n        </div>\n    )\n}\n\nexport default Reviews\n","import React, { Fragment, useContext, useEffect, useState } from 'react'\nimport { Link, useParams } from 'react-router-dom';\nimport RestaurantFinder from '../apis/RestaurantFinder';\nimport AddReview from '../components/AddReview';\nimport Reviews from '../components/Reviews';\nimport StarRating from '../components/StarRating';\nimport { RestaurantContext } from '../context/RestaurantContext';\n\nfunction RestaurantDetail() {\n    const { id } = useParams();\n    const [restaurant, setRestaurant] = useState({});\n    const { newReviews } = useContext(RestaurantContext);\n\n    useEffect(() => {\n        async function fetchData() {\n            const response = await RestaurantFinder.get(`${id}`);\n            setRestaurant(response.data.data.restaurant);\n        }\n        fetchData().catch(err => console.log(err));\n    }, [id, newReviews])\n\n    return (\n        <Fragment>\n            { restaurant &&\n            <>\n            <div className=\"my-3 text-center\">\n                <h1 className=\"font-weight-light display-3\">{restaurant.name }</h1>\n                {restaurant.count > 0 ? <><StarRating rating={restaurant.avg_rating}/>\n                <span>{` (${restaurant.count}) | `}</span></> : <span>no reviews yet | </span>}\n                <Link to={`/restaurants/${restaurant.id}/update`}>Update restaurant</Link>\n            </div>\n            <Reviews reviews={restaurant.reviews}/>\n            <AddReview />\n            </>\n            }\n        </Fragment>\n    )\n}\n\nexport default RestaurantDetail;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport RestaurantFinder from '../apis/RestaurantFinder';\nimport { RestaurantContext } from '../context/RestaurantContext';\n\nfunction UpdateForm() {\n    const { id } = useParams();\n    const [name, setName] = useState('');\n    const [location, setLocation] = useState('');\n    const [priceRange, setPriceRange] = useState('Price Range');\n\n    let history = useHistory();\n\n    const { setIsUpdated } = useContext(RestaurantContext);\n\n    useEffect(() => {\n        async function fetchData() {\n            const response = await RestaurantFinder.get(`${id}`);\n            setName(response.data.data.restaurant.name);\n            setLocation(response.data.data.restaurant.location);\n            setPriceRange(response.data.data.restaurant.price_range);\n        }\n        fetchData().catch(err => console.log(err));\n    }, [id])\n\n    // faltou o 404...\n\n    const handleSubmit = async e => {\n        e.preventDefault()\n        try {\n            await RestaurantFinder.put(`${id}/`, {\n                name,\n                location,\n                price_range: priceRange\n            })\n            setIsUpdated(false)\n            history.push('/')\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    return (\n        <div>\n            <form onSubmit={handleSubmit}>\n                <div className=\"form-group\">\n                    <label htmlFor=\"name\">Name</label>\n                    <input\n                        className=\"form-control\"\n                        type=\"text\"\n                        required\n                        placeholder=\"restaurant name\"\n                        value={name}\n                        onChange={e => setName(e.target.value)}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"location\">Location</label>\n                    <input\n                        className=\"form-control\"\n                        type=\"text\"\n                        required\n                        placeholder=\"restaurant location\"\n                        value={location}\n                        onChange={e => setLocation(e.target.value)}                            \n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"price_range\">Price Range</label>\n                    <select className=\"custom-select\" value={priceRange} onChange={e => setPriceRange(e.target.value)}>\n                        <option disabled>Price Range</option>\n                        <option value=\"1\">$</option>\n                        <option value=\"2\">$$</option>\n                        <option value=\"3\">$$$</option>\n                        <option value=\"4\">$$$$</option>\n                        <option value=\"5\">$$$$$</option>\n                    </select>\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary\">Update</button>\n            </form>\n        </div>\n    )\n}\n\nexport default UpdateForm;\n","import React from 'react'\nimport UpdateForm from '../components/UpdateForm'\n\nfunction UpdateRestaurant() {\n\n    return (\n        <div>\n            <h1 className=\"text-center\">Update Restaurant</h1>\n            <UpdateForm/>\n        </div>\n    )\n}\n\nexport default UpdateRestaurant\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { RestaurantContextProvider } from './context/RestaurantContext';\nimport Home from './pages/Home';\nimport RestaurantDetail from './pages/RestaurantDetail';\nimport RestaurantUpdate from './pages/RestaurantUpdate';\n\nconst App = () => {\n  return (\n    <RestaurantContextProvider>\n      <div className=\"container\">\n        <Router>\n          <Switch>\n            <Route exact path='/' component={Home} />\n            <Route exact path='/restaurants/:id' component={RestaurantDetail} />\n            <Route exact path='/restaurants/:id/update' component={RestaurantUpdate} />\n          </Switch>\n        </Router>\n      </div>\n    </RestaurantContextProvider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App/>, document.getElementById('root'));"],"sourceRoot":""}